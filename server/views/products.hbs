<section class="content-header">
	<h1>MediTemp <small>Products</small></h1>
</section>

<section class="content">

	<div class="row">
		<div class="col-xs-12">
			<div class="box box-info">
				<div class="box-header with-border">
					<i class="fa fa-list"></i>

					<h3 class="box-title">Products</h3>

					<div class="box-tools pull-right">
						<button type="button" class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus"></i></button>
					</div>
				</div>
				<div class="box-body no-padding">
					<table class="table">
						<thead>
							<tr>
								<th>Product Name</th>
								<th>Expected Temperature</th>
								<th>Current Temperature</th>
							</tr>
						</thead>
						{{#each devices}}
						<thead>
							<tr>
								<th colspan="3" class="bg-purple text-center">{{deviceId}}</th>
							</tr>
						</thead>
						<tbody>
							{{#each products}}
							<tr data-index="{{@index}}">
								<th>{{name}}</th>
								<td>{{temperature}} <small>(&plusmn; {{margin}})</small> °C</td>
								<td {{#if warning}}class="text-red"{{else}}class="text-green"{{/if}}>{{../currentTemp}} °C</td>
							</tr>
							{{/each}}
						</tbody>
						{{/each}}
					</table>
				</div>
			</div>
		</div>
	</div>

	<div class="row">
		<div class="col-xs-12">
			<div class="box box-primary">
				<form class="form" action="/products/add" method="post">
					<div class="box-header with-border">
						<i class="fa fa-edit"></i>

						<h3 class="box-title">Add Product</h3>

						<div class="box-tools pull-right">
							<button type="button" class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus"></i></button>
						</div>
					</div>
					<div class="box-body">
						<div class="form-group">
							<label for="product-name">Product Name</label>
							<input type="text" class="form-control input-lg" id="product-name" name="productName" placeholder="Product Name" value="" required="true" />
						</div>

						<div class="form-group">
							<label for="product-temp">Product Temperature</label>
							<input type="number" min="-100" max="100" step="1" class="form-control input-lg" id="product-temp" name="productTemp" placeholder="-100 °C to 100 °C" value="" required="true" />
						</div>

						<div class="form-group">
							<label for="product-temp-margin">Product Temperature Margin</label>
							<input type="number" min="0" max="10" step="0.5" class="form-control input-lg" id="product-temp-margin" name="productTempMargin" placeholder="up to 10 °C" value="" required="true" />
						</div>

						<div class="form-group">
							<label for="device">Device</label>
							<select class="form-control input-lg" id="device" name="device" required="true">
								<option value=""></option>
								{{#each devices}}
								<option value="{{deviceId}}">{{deviceId}} ({{currentTemp}} °C)</option>
								{{/each}}
							</select>
						</div>
					</div>
					<div class="box-footer with-border text-right">
						<input type="submit" class="btn btn-primary btn-flat btn-lg" />
					</div>
				</form>
			</div>
		</div>
	</div>

</section>
